<!DOCTYPE html>
<html lang="it">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Modulo di Anagrafica</title>
  <link rel="stylesheet" href="style.css">
  <link rel="shortcut icon" href="immagini/documentoImg.png" />
</head>
<body>
<a href="../home2.html"><img src="immagini/backIcon.png" alt="Torna Indietro" width="30px" height="30px"></a>
<div class="contenitore">
  <center><h2>Modulo di Anagrafica</h2></center>
  <form id="anagraficaForm">
    <label for="nome">Nome:</label>
    <input type="text" id="nome" required>

    <label for="cognome">Cognome:</label>
    <input type="text" id="cognome" required>

    <label for="email">Email:</label>
    <input type="email" id="email" required>

    <label for="password">Password:</label>
    <input type="password" id="password" required>
	<br> <br>
    <button type="button" onclick="submitForm()">Invia</button>
  </form>

  <div id="output" class="output" style="display: none;"></div>
</div>
<script>
	// Espressioni regolari
	function validaNome(nome) {
		return /^[A-Za-z]{1,50}$/.test(nome);
	}

	function validaCognome(cognome) {
		return /^[A-Za-z]{1,50}$/.test(cognome);
	}

	function validaEmail(email) {
		return /^[\w\.-]+@[\w\.-]+\.\w+$/.test(email);
	}

	function validaPassword(password) {
		return /^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/.test(password);
	}

	function mascheraPassword(password) {
		return '*'.repeat(password.length);
	}

	function submitForm() {
		const nome = document.getElementById("nome").value;
		const cognome = document.getElementById("cognome").value;
		const email = document.getElementById("email").value;
		const password = document.getElementById("password").value;

		if (!validaNome(nome)) {
		  alert("Nome non valido. Inserisci solo lettere (max 50 caratteri).");
		  return;
		}
		if (!validaCognome(cognome)) {
		  alert("Cognome non valido. Inserisci solo lettere (max 50 caratteri).");
		  return;
		}
		if (!validaEmail(email)) {
		  alert("Email non valida. Inserisci un'email corretta.");
		  return;
		}
		if (!validaPassword(password)) {
		  alert("Password non valida. Deve contenere almeno 8 caratteri, con almeno una lettera, un numero e un carattere speciale.");
		  return;
		}

		const outputDiv = document.getElementById("output");
		outputDiv.style.display = "block";
		outputDiv.innerHTML = `
		  <p><strong>Nome:</strong> ${nome}</p>
		  <p><strong>Cognome:</strong> ${cognome}</p>
		  <p><strong>Email:</strong> ${email}</p>
		  <p><strong>Password:</strong> ${mascheraPassword(password)}</p>
		`;
	}
</script>
</body>
</html>
