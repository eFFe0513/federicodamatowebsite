<html>
    <head>
        <title>Autenticazione</title>
        <link rel="stylesheet" href="styleAutenticazione.css">
        <script src="https://smtpjs.com/v3/smtp.js"></script>
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Kanit:ital,wght@0,100;1,100;1,800&display=swap" rel="stylesheet">
        <link rel="icon" href="immagini/loginLogo.png" type="image/x-icon">
    </head>
    <body>
        <center>
            <br><center><h1>Join the virtual reality community</h1></center>
            <center><h5 class="h5Titolo">Autenticazione a due fattori</h5></center>
            <center>
                <table width="75%" cellspacing="20px">
                    <tr>
                        <td>
                            <center>
                            <h5>Inserisci il codice ricevuto tramite email</h5>
                            <input type="text" id="codice" name="codice" placeholder="Codice di verifica"><br><br>
                            <button type="button" onclick="convalida()" class="continua"><b>Continua</b></button><br><br>
                            <button type="button" onclick="funzioneJS()" class="continua"><b>Reivia codice</b></button>
                            </center>
                        </td>
                        <td>
                            <center>
                                <div class="slider">
                                    <div class="slides" id="slideContainer">
                                        <img src="immagini/img1.jpg" alt="Immagine 1">
                                        <img src="immagini/img2.jpg" alt="Immagine 2">
                                        <img src="immagini/img3.jpg" alt="Immagine 3">
                                    </div>
                                    <div class="controls">
                                        <button onclick="prevSlide()">&#10094;</button>
                                        <button onclick="nextSlide()">&#10095;</button>
                                    </div>
                                </div>
                            </center>
                        </td>
                    </tr>
                </table>
            </center>
        </center>
        <script>
            // scorrimento immagini
            let index = 0;
            const slides = document.getElementById("slideContainer");
            const totalSlides = slides.children.length;
            function showSlide(i) {
                index = (i + totalSlides) % totalSlides;
                slides.style.transform = `translateX(${-index * 407}px)`;
            }
            function nextSlide() {
                showSlide(index + 1);
            }
            function prevSlide() {
                showSlide(index - 1);
            }
            setInterval(nextSlide, 3500);


            function genera8CifreStringa() {
                const randomNumber = Math.floor(Math.random() * 100_000_000);
                return String(randomNumber).padStart(8, '0');
            }

            // codice verifica
            function sendEmail() {
                let random = genera8CifreStringa();
                Email.send({
                    Host: "smtp.tuoisp.com",
                    Username: "nomeutente",
                    Password: "password",
                    To: 'destinatario@esempio.comm',
                    From: "mittente@esempio.com",
                    Subject: "Codice di verifica",
                    Body: "Ecco il tuo codice di verifica -->" + random
                })
                .then(function (message) {
                    alert("Email inviata con successo")
                });
            }
            // verifica codice
            function convalida(){
                window.location.href = "Homepage.html"
            }
        </script>
    </body>
</html>