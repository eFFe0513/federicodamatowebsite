<!DOCTYPE html>
<html lang="it">
<head>
    <title>Vr Community - Cronologia</title>
    <link rel="stylesheet" href="styleCronoPrefe.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Kanit:ital,wght@0,100;1,100;1,800&display=swap" rel="stylesheet">
    <link rel="icon" href="immagini/VrIcon.png" type="image/x-icon">
</head>
<body>
    <nav>
        <ul>
            <li><a href="Homepage.html" class="casella"><strong>Vr</strong></a></li>
            <li><a href="Shop.html" class="casella">Shop</a></li>
            <li><a href="Carrello.html" class="casella">Carrello</a></li>
            <li><a href="Scopri.html" class="casella">Scopri di pi√π</a></li>
            <li><a href="#" class="casella">Altro</a>
                <ul class="dropdown">
                    <li><a href="Preferiti.html" class="casella">Preferiti</a></li>
                    <li><a href="Cronologia.html" class="casella">Cronologia</a></li>
                </ul>
            </li>
            <li><a href="Profilo.html"><img src="immagini/utente.png" alt="profilo" class="profilo"></a></li>
        </ul>
    </nav>

    <div class="contenitore-preferiti" id="contenitorePreferiti">
        <h1>La tua Cronologia</h1>
        <div id="listaCronologia"></div>
        <button class="btn btn-elimina" onclick="svuotaPreferiti()">Elimina tutta la cronologia</button>
    </div>

    <script>
        const listaCronologia = document.getElementById("listaCronologia");
        const cronologia = JSON.parse(localStorage.getItem("cronologia")) || [];

        if (cronologia.length === 0) {
            listaCronologia.innerHTML = "<p>Nessun prodotto visualizzato</p>";
        } else {
            cronologia.forEach((item, index) => {
                const div = document.createElement("div");
                div.className = "preferito";
                div.innerHTML = `
                    <p><strong>Marca:</strong> ${item.Marca}</p>
                    <p><strong>Modello:</strong> ${item.Modello}</p>
                `;
                listaCronologia.appendChild(div);
            });
        }

        function svuotaPreferiti() {
            if (confirm("Sei sicuro di voler eliminare tutta la cronologia?")) {
                localStorage.removeItem("cronologia");
                location.reload();
            }
        }
    </script>
</body>
</html>